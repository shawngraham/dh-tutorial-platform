---
id: if-01
title: 'The Forking Path: Stories as Dictionaries'
moduleId: interactive-fiction
prerequisites:
  - python-basics
estimatedTimeMinutes: 10
difficulty: beginner
learningObjectives:
  - Represent a branching narrative as a Python dictionary of passages
  - Look up passages by ID and display their text and choices
  - Understand the connection between hypertext theory and data structures
keywords:
  - interactive fiction
  - branching narrative
  - dictionary
  - hypertext
  - Borges
---

# The Forking Path: Stories as Dictionaries

## Analogy

In Jorge Luis Borges' famous story "The Garden of Forking Paths" (1941), a novel is described in which every possible outcome of every event occurs simultaneously, each branching into further possibilities. This is not just a literary conceit — it is a precise description of a data structure. Every hypertext narrative, from early works like Michael Joyce's *afternoon, a story* (1987) to modern interactive fiction, is built on the same principle: a network of passages connected by choices. In Python, we can represent this network with a dictionary, where each key is a passage ID and each value holds the passage's text and its branching choices. The dictionary *is* the garden.

## Key Concepts

### Passages as Dictionary Entries

A branching story is a collection of **passages**. Each passage has:
- A unique **ID** (the dictionary key)
- **Text** displayed to the reader
- **Choices** that link to other passages

:::definition
**Passage**: A single unit of narrative in interactive fiction, containing text the reader sees and zero or more choices leading to other passages.
:::

:::definition
**Hypertext narrative**: A non-linear text composed of linked passages (or "lexia"), where the reader's choices determine the path through the story.
:::

We represent the entire story as a dictionary of dictionaries:

```python
story = {
    "start": {
        "text": "You stand at the entrance to a Victorian library.",
        "choices": {"Open the door": "foyer", "Read the sign": "sign"}
    },
    "foyer": {
        "text": "Tall shelves line every wall. A librarian nods at you.",
        "choices": {"Ask about special collections": "special", "Browse freely": "stacks"}
    },
    "sign": {
        "text": "The sign reads: 'Hours 9-5. Rare manuscripts by appointment only.'",
        "choices": {"Open the door": "foyer"}
    },
    "special": {
        "text": "The librarian leads you to a locked room of illuminated manuscripts.",
        "choices": {}
    },
    "stacks": {
        "text": "You wander the stacks and discover a forgotten first edition.",
        "choices": {}
    }
}
```

### Looking Up a Passage

To display a passage, look up its ID in the dictionary:

```python
current = "start"
passage = story[current]
print(passage["text"])
# Output: You stand at the entrance to a Victorian library.
```

### Listing Available Choices

The `"choices"` field is itself a dictionary mapping choice labels (what the reader sees) to destination passage IDs:

```python
passage = story["start"]
for label in passage["choices"]:
    print(f"  > {label}")
# Output:
#   > Open the door
#   > Read the sign
```

### Navigating to the Next Passage

In a real interactive program, a reader would click or type a choice. In our sandbox (where `input()` is not available), we simulate a choice by looking up the label in the choices dictionary:

```python
# Simulate choosing "Open the door"
choice_made = "Open the door"
next_id = story["start"]["choices"][choice_made]
print(story[next_id]["text"])
# Output: Tall shelves line every wall. A librarian nods at you.
```

### Walking a Full Path

We can walk through an entire sequence of choices:

```python
story = {
    "start": {
        "text": "You enter the medieval hall.",
        "choices": {"Go north": "chapel"}
    },
    "chapel": {
        "text": "A small chapel with stained glass.",
        "choices": {"Examine the altar": "altar"}
    },
    "altar": {
        "text": "Behind the altar, you find a hidden passage.",
        "choices": {}
    }
}

path = ["Go north", "Examine the altar"]
current = "start"
print(story[current]["text"])

for choice in path:
    current = story[current]["choices"][choice]
    print(story[current]["text"])
```

This prints each passage's text as we move through the story.

## Practice

:::try-it
Create a small story dictionary with 3 passages: `"start"`, `"left"`, and `"right"`. The start passage should offer two choices. Navigate from start to one of the endings and print the text of each passage you visit.
:::

## Transfer

In digital humanities, scholars use structures like these to analyze literary hypertext. Espen Aarseth's concept of **cybertext** describes texts where the reader must perform non-trivial effort to traverse the narrative. Representing these narratives as dictionaries is the first step toward computational analysis — we can count paths, measure complexity, and compare structures across works. The same approach applies to modeling historical "what-if" scenarios, museum navigation paths, or archival exploration workflows.

:::challenge
Build a story dictionary representing an archive of letters. Navigate from the start through two choices and print each passage's text along the way.
:::

---challenges---

### Challenge: Navigate the Archive of Letters

- id: if-01-c1
- language: python
- difficulty: beginner

#### Starter Code

```python
story = {
    "start": {
        "text": "You stand before the Archive of Forgotten Letters.",
        "choices": {"Enter the archive": "hall", "Read the plaque": "plaque"}
    },
    "hall": {
        "text": "A grand hall stretches before you, lined with shelves of bundled correspondence.",
        "choices": {"Examine the east wing": "east_wing", "Examine the west wing": "west_wing"}
    },
    "plaque": {
        "text": "The plaque reads: Founded 1847, dedicated to preserving voices of the past.",
        "choices": {"Enter the archive": "hall"}
    },
    "east_wing": {
        "text": "You find letters exchanged between two poets, full of creative fire.",
        "choices": {}
    },
    "west_wing": {
        "text": "Dusty legal documents reveal a forgotten land dispute from 1863.",
        "choices": {}
    }
}

# Navigate: start -> "Enter the archive" -> "Examine the east wing"
# Print the text of each passage you visit (3 passages total)
current = "start"
# Your code here: print text, move through two choices, print text each time
```

#### Expected Output

```
You stand before the Archive of Forgotten Letters.
A grand hall stretches before you, lined with shelves of bundled correspondence.
You find letters exchanged between two poets, full of creative fire.
```

#### Hints

1. Use `story[current]["text"]` to get the text of the current passage.
2. Use `story[current]["choices"]["Enter the archive"]` to get the ID of the next passage.
3. After each navigation step, update `current` and print the new passage's text.

#### Solution

```python
story = {
    "start": {
        "text": "You stand before the Archive of Forgotten Letters.",
        "choices": {"Enter the archive": "hall", "Read the plaque": "plaque"}
    },
    "hall": {
        "text": "A grand hall stretches before you, lined with shelves of bundled correspondence.",
        "choices": {"Examine the east wing": "east_wing", "Examine the west wing": "west_wing"}
    },
    "plaque": {
        "text": "The plaque reads: Founded 1847, dedicated to preserving voices of the past.",
        "choices": {"Enter the archive": "hall"}
    },
    "east_wing": {
        "text": "You find letters exchanged between two poets, full of creative fire.",
        "choices": {}
    },
    "west_wing": {
        "text": "Dusty legal documents reveal a forgotten land dispute from 1863.",
        "choices": {}
    }
}

current = "start"
print(story[current]["text"])

current = story[current]["choices"]["Enter the archive"]
print(story[current]["text"])

current = story[current]["choices"]["Examine the east wing"]
print(story[current]["text"])
```

